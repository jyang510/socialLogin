(this["webpackJsonpauth-oauth-client"]=this["webpackJsonpauth-oauth-client"]||[]).push([[0],{32:function(e,t,n){e.exports=n(64)},37:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(25),i=n.n(c),r=(n(37),n(8)),l=n.n(r),s=n(10),u=n(3),d=n(4),m=n(5),p=n(7),h=n(6),g=n(31),f=n(26),k=n.n(f).a.stringify({client_id:"240166666352-jrcs8avt11vl8dp0hgo60qgnhf2t9rnn.apps.googleusercontent.com",redirect_uri:"https://d1839m99iakp36.cloudfront.net/",response_type:"code",scope:"openid profile email",access_type:"offline"}),v=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).socialLoginHandler=a.socialLoginHandler.bind(Object(m.a)(a)),a.GOOGLE_LOGIN_URL="https://accounts.google.com/o/oauth2/v2/auth?"+k,a}return Object(d.a)(n,[{key:"socialLoginHandler",value:function(){window.location.assign(this.GOOGLE_LOGIN_URL)}},{key:"render",value:function(){return o.a.createElement("div",{className:"loginContainer"},"OAuth 2.0\uc73c\ub85c \uc18c\uc15c \ub85c\uadf8\uc778\uc744 \uad6c\ud604\ud574\ubcf4\uc138\uc694.",o.a.createElement("img",{id:"logo",alt:"logo",src:"https://image.flaticon.com/icons/png/512/25/25231.png"}),o.a.createElement("button",{onClick:this.socialLoginHandler,className:"socialloginBtn"},"Google\uc73c\ub85c \ub85c\uadf8\uc778"))}}]),n}(a.Component),O=n(27),b=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={email:"",name:"",picture:""},a}return Object(d.a)(n,[{key:"getGoogleUserInfo",value:function(){var e=Object(s.a)(l.a.mark((function e(){var t,n,a,o,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.idToken,console.log("id_token\uc740 ".concat(t)),n=Object(O.a)(t),console.log("decode\uc758 \uac12\uc740 \uc774\ub7ec\ud558\ub2e4\n"),console.log(n),a=n.email,o=n.name,c=n.picture,console.log("email\uc740 ".concat(a)),console.log("name\uc740 ".concat(o)),console.log("picture\uc740 ".concat(c)),this.setState({email:a,name:o,picture:c});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getGoogleUserInfo()}},{key:"render",value:function(){return this.props.accessToken?o.a.createElement(o.a.Fragment,null,o.a.createElement("dt",null,"email: "),o.a.createElement("dd",null,"".concat(this.state.email,"\n")),o.a.createElement("dt",null,"name: "),o.a.createElement("dd",null,"".concat(this.state.name,"\n")),o.a.createElement("dt",null,"picture: "),o.a.createElement("dd",null,o.a.createElement("img",{src:this.state.picture}))):o.a.createElement("div",null,"\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4")}}]),n}(a.Component),E=n(28),j=n.n(E),T=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(u.a)(this,n),(e=t.call(this)).state={isLogin:!1,accessToken:"",idToken:""},e.getToken=e.getToken.bind(Object(m.a)(e)),e}return Object(d.a)(n,[{key:"getToken",value:function(){var e=Object(s.a)(l.a.mark((function e(t){var n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.post("http://localhost:8080/callback",{authorizationCode:t}).then((function(e){n.setState({isLogin:!0,accessToken:e.data.accessToken,idToken:e.data.idToken})})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=new URL(window.location.href);console.log("url\uc758 \uac12\uc740 ".concat(e));var t=e.searchParams.get("code");console.log("authorization\uc758 \uac12\uc740 ".concat(t)),t&&this.getToken(t)}},{key:"render",value:function(){var e=this.state,t=e.isLogin,n=e.accessToken,a=e.idToken;return o.a.createElement(g.a,null,o.a.createElement("div",{className:"App"},t?o.a.createElement(b,{accessToken:n,idToken:a}):o.a.createElement(v,null)))}}]),n}(a.Component);n(63);i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(T,null)),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.250c6c7f.chunk.js.map